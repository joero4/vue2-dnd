!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Vue2Dnd=t()}(this,function(){"use strict";var e={},t=null,a=function(e){var t={};return e&&"[object Function]"===t.toString.call(e)};return e.install=function(e){e.directive("draggable",{bind:function(e,t,a){if(0===Object.keys(t.modifiers).length)throw new Error("You have to specify almost one group in the modifier of draggable element");var r=function(e){e.dataTransfer.effectAllowed="all",e.dataTransfer.setData("data",JSON.stringify(t.value)),e.dataTransfer.setData("group",JSON.stringify(Object.keys(t.modifiers)))};e.setAttribute("draggable",!0),e.addEventListener("dragstart",r)},update:function(e,t,a){if(e.removeEventListener("dragstart",{}),0===Object.keys(t.modifiers).length)throw new Error("You have to specify almost one group in the modifier of draggable element");var r=function(e){e.dataTransfer.effectAllowed="all",e.dataTransfer.setData("data",JSON.stringify(t.value)),e.dataTransfer.setData("group",JSON.stringify(Object.keys(t.modifiers)))};e.setAttribute("draggable",!0),e.addEventListener("dragstart",r)},unbind:function(e,t,a){e.setAttribute("draggable",!1),e.removeEventListener("dragstart",{})}}),e.directive("droppable",{bind:function(e,r,n){var i=function(n){n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation(),console.log("drop");var i=n.dataTransfer.getData("data"),o=n.dataTransfer.getData("group");if(""!==o){var d=JSON.parse(o),s=!1;s=0===r.modifiers.length||d.find(function(e,t,a){return r.modifiers[e]}),t=null,s?(a(r.value)?r.value.call(e,i,e,n):r.value.event.call(e,i,e,n,r.value.data),n.target.classList.remove("dragover")):n.target.classList.remove("dragover")}},o=function(e){e.preventDefault&&e.preventDefault(),null==t&&(t=e.target,e.target.classList.add("dragover"),console.log("dragenter"))},d=function(e){e.preventDefault&&e.preventDefault(),e.target==t&&(e.target.classList.remove("dragover"),t=null,console.log("dragLeave"))};e.addEventListener("drop",i),e.addEventListener("dragover",o),e.addEventListener("dragenter",o),e.addEventListener("dragleave",d)},unbind:function(e,t,a){e.setAttribute("draggable",!1),e.removeEventListener("dragstart",{})}}),e.directive("dragenter",{bind:function(e,t,a){var r=function(a){a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.target.classList.add("dragover"),t.value.call(e)};e.addEventListener("dragenter",r)},unbind:function(e,t,a){e.removeEventListener("dragenter",{})}}),e.directive("dragleave",{bind:function(e,t,a){var r=function(a){a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),t.value.call(e)};e.addEventListener("dragleave",r)},unbind:function(e,t,a){e.removeEventListener("dragleave",{})}})},e});
